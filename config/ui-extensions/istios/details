header:
  - name: Ready
    source: status.state
    widget: Badge
    highlights:
      positive:
        - 'Ready'
body:
  - name: Specification
    widget: Panel
    children:
      - source: spec.config.numTrustedProxies
        name: config.numTrustedProxies
        visibility: '$exists($value)'
      - source: spec.components.pilot.k8s.hpaSpec.minReplicas
        name: pilot.k8s.hpaSpec.minReplicas
        visibility: '$exists($value)'
      - source: spec.components.pilot.k8s.hpaSpec.maxReplicas
        name: pilot.k8s.hpaSpec.maxReplicas
        visibility: '$exists($value)'
      - source: spec.components.pilot.k8s.strategy.rollingUpdate.maxSurge
        name: pilot.k8s.strategy.rollingUpdate.maxSurge
        visibility: '$exists($value)'
      - source: spec.components.pilot.k8s.strategy.rollingUpdate.maxUnavailable
        name: pilot.k8s.strategy.rollingUpdate.maxUnavailable
        visibility: '$exists($value)'
      - source: spec.components.pilot.k8s.resources.limits.cpu
        name: pilot.k8s.resources.limits.cpu
        visibility: '$exists($value)'
      - source: spec.components.pilot.k8s.resources.limits.memory
        name: pilot.k8s.resources.limits.memory
        visibility: '$exists($value)'
      - source: spec.components.pilot.k8s.resources.requests.cpu
        name: pilot.k8s.resources.requests.cpu
        visibility: '$exists($value)'
      - source: spec.components.pilot.k8s.resources.requests.memory
        name: pilot.k8s.resources.requests.memory
        visibility: '$exists($value)'
      - source: spec.components.ingressgateway.k8s.hpaSpec.minReplicas
        name: pilot.k8s.hpaSpec.minReplicas
        visibility: '$exists($value)'
      - source: spec.components.ingressgateway.k8s.hpaSpec.maxReplicas
        name: ingressgateway.k8s.hpaSpec.maxReplicas
        visibility: '$exists($value)'
      - source: spec.components.ingressgateway.k8s.strategy.rollingUpdate.maxSurge
        name: ingressgateway.k8s.strategy.rollingUpdate.maxSurge
        visibility: '$exists($value)'
      - source: spec.components.ingressgateway.k8s.strategy.rollingUpdate.maxUnavailable
        name: ingressgateway.k8s.strategy.rollingUpdate.maxUnavailable
        visibility: '$exists($value)'
      - source: spec.components.ingressgateway.k8s.resources.limits.cpu
        name: ingressgateway.k8s.resources.limits.cpu
        visibility: '$exists($value)'
      - source: spec.components.ingressgateway.k8s.resources.limits.memory
        name: ingressgateway.k8s.resources.limits.memory
        visibility: '$exists($value)'
      - source: spec.components.ingressgateway.k8s.resources.requests.cpu
        name: ingressgateway.k8s.resources.requests.cpu
        visibility: '$exists($value)'
      - source: spec.components.cni.k8s.resources.limits.cpu
        name: cni.k8s.resources.limits.cpu
        visibility: '$exists($value)'
      - source: spec.components.cni.k8s.resources.limits.memory
        name: cni.k8s.resources.limits.memory
        visibility: '$exists($value)'
      - source: spec.components.cni.k8s.resources.requests.cpu
        name: cni.k8s.resources.requests.cpu
        visibility: '$exists($value)'
      - source: spec.components.cni.k8s.resources.requests.memory
        name: cni.k8s.resources.requests.memory
        visibility: '$exists($value)'
      - source: spec.components.proxy.k8s.resources.limits.cpu
        name: proxy.k8s.resources.limits.cpu
        visibility: '$exists($value)'
      - source: spec.components.proxy.k8s.resources.limits.memory
        name: proxy.k8s.resources.limits.memory
        visibility: '$exists($value)'
      - source: spec.components.proxy.k8s.resources.requests.cpu
        name: proxy.k8s.resources.requests.cpu
        visibility: '$exists($value)'
      - source: spec.components.proxy.k8s.resources.requests.memory
        name: proxy.k8s.resources.requests.memory
        visibility: '$exists($value)'

  - source: status.conditions
    widget: Table
    name: Reconciliation Conditions
    children:
      - source: type
        name: Type
      - source: status
        name: Status
        widget: Badge
        highlights:
          positive:
            - 'True'
          negative:
            - 'False'
      - source: reason
        name: Reason
      - source: message
        name: Message
      - source: '$readableTimestamp(lastTransitionTime)'
        name: Last transition
        sort: true

  - widget: EventList
    filter: '$matchEvents($$, $root.kind, $root.metadata.name)'
    name: Events
    defaultType: information